import{r as c,u as z,a as B,f as E,j as e,F as L,b as A,T as O,c as m,d as R,e as U,g as V,h as v,i as G,A as H}from"./index-yhZE5bDn.js";import{u as P,C as Q,G as q,B as I}from"./GridViewToggle-DubpI4Sv.js";const M=()=>{const[h,g]=c.useState([]),[r,N]=c.useState({key:"market_cap",direction:"desc"}),[p,f]=c.useState(""),[w,j]=c.useState(!1),d=c.useRef(null),k=z(),i=B(s=>s.favorites),C=P(s=>s.gridView),_=s=>{k(`/cryptoverse-explorer/coins/${s.id}`)};c.useEffect(()=>{E().then(g).catch(a=>console.error("Error fetching crypto data:",a));const s=a=>{a.key==="/"?(d.current.focus(),a.preventDefault()):a.key==="Escape"&&d.current.blur()};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[]);const S=[...h].sort((s,a)=>r.direction==="desc"?s[r.key]>a[r.key]?-1:1:r.direction==="asc"?s[r.key]>a[r.key]?1:-1:0),D=s=>{let a="desc";r.key===s&&(a=r.direction==="desc"?"asc":"desc");let t=[...h];s==="favorite"?t=t.sort((x,u)=>{const l=i.includes(x.id),o=i.includes(u.id);return l&&!o?-1:!l&&o?1:l&&o?r.direction==="desc"?i.indexOf(x.id)-i.indexOf(u.id):i.indexOf(u.id)-i.indexOf(x.id):0}):t=t.sort((x,u)=>{const l=x[s],o=u[s];return l<o?a==="asc"?-1:1:l>o?a==="asc"?1:-1:0}),g(t),N({key:s,direction:a})},y=S.filter(s=>s.name.toLowerCase().includes(p.toLowerCase())||s.symbol.toLowerCase().includes(p.toLowerCase())),T=s=>{f(s.target.value),j(s.target.value!=="")},F=()=>{f(""),j(!1),d.current.focus()},K=s=>{s.key==="/"&&(d.current.focus(),s.preventDefault())},b=s=>r.key===s?r.direction==="desc"?e.jsx(v,{className:"inline p-0.5 pe-1"}):e.jsx(G,{className:"inline p-0.5 pe-1"}):e.jsx(v,{className:"opacity-25 group-hover:opacity-75 transition-opacity inline p-0.5 pe-1"}),n=({label:s,sortKey:a,className:t})=>e.jsxs("th",{className:`px-4 py-2 cursor-pointer group text-end ${t}`,onClick:()=>D(a),children:[s!=="Name"&&b(a),s,s==="Name"&&b(a)]}),$=({crypto:s,index:a})=>{var t;return e.jsxs("tr",{className:`${a%2===0?"bg-zinc-200 dark:bg-zinc-700":"bg-gray-50 dark:bg-zinc-800"} cursor-pointer hover:bg-zinc-400 dark:hover:bg-zinc-500 transition-colors whitespace-nowrap `,onClick:()=>_(s),children:[e.jsx("td",{className:"px-4 py-2",children:s.market_cap_rank}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{className:"w-8 h-8 p-1",src:s.image,alt:`${s.name} Logo`}),e.jsx("span",{className:"ml-2",children:s.name})," ",e.jsx("span",{className:"inline-block text-gray-700 dark:text-gray-300 px-2 py-1 text-xs font-semibold uppercase",children:s.symbol})]})}),e.jsxs("td",{className:"px-4 py-2 text-end",children:["$",m(s.current_price)]}),e.jsxs("td",{className:`px-4 py-2 text-end ${s.price_change_percentage_24h>=0?"text-green-600":"text-red-600"}`,children:[s.price_change_percentage_24h>=0?e.jsx(R,{className:"p-0.5 pe-1 inline-flex"}):e.jsx(U,{className:"p-0.5 pe-1 inline-flex"}),(t=s.price_change_percentage_24h)==null?void 0:t.toFixed(2),"%"]}),e.jsxs("td",{className:"px-4 py-2 text-end",children:["$",m(s.market_cap)]}),e.jsxs("td",{className:"px-4 py-2 text-end",children:["$",m(s.low_24h)]}),e.jsxs("td",{className:"px-4 py-2 text-end",children:["$",m(s.high_24h)]}),e.jsxs("td",{children:[" ",e.jsx(V,{id:s.id})]})]},s.id)};return e.jsxs("div",{className:"container mx-auto ",children:[e.jsxs("div",{className:"md:inline-flex md:w-full  ",children:[e.jsx("h2",{className:"text-3xl font-semibold mb-4",children:"Top 100 Cryptocurrencies"}),e.jsxs("form",{className:"ml-auto w-80",onSubmit:s=>s.preventDefault(),children:[e.jsx("label",{htmlFor:"default-search",className:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white",children:"Search"}),e.jsxs("div",{className:"relative group w-full",children:[e.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:e.jsx(L,{className:"opacity-40"})}),e.jsx("input",{id:"default-search",className:"block w-full p-3 px-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-teal-500 focus:border-teal-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white ",placeholder:"Search Top 100 Cryptocurrencies",required:!0,value:p,onChange:T,onKeyDown:K,ref:d}),w?e.jsx("button",{type:"button",className:"absolute inset-y-0 hover:scale-105 pointer-cursor border-none end-0 flex items-center pr-3",onClick:F,children:e.jsx(A,{className:"opacity-40"})}):e.jsx("div",{className:"absolute group group-focus-within:invisible inset-y-0 end-0 flex items-center pr-3",children:e.jsxs("div",{className:"relative",children:[e.jsx("kbd",{className:"px-2 py-1.5 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded-lg dark:bg-gray-600 dark:text-gray-100 dark:border-gray-500",children:"/"}),e.jsx(O,{className:"opacity-0 z-50 -bottom-12 group-hover:-bottom-10 group-hover:opacity-100 whitespace-nowrap",content:"Use to trigger search",showArrow:!1})]})})]})]})]}),C?e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[" ",y.map((s,a)=>e.jsx(Q,{coin:s},s.id))]}):e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full rounded-lg overflow-hidden ",children:[e.jsx("thead",{className:"bg-zinc-300 dark:bg-zinc-900 whitespace-nowrap w-full ",children:e.jsxs("tr",{children:[e.jsx(n,{className:"w-10 text-end",label:"#",sortKey:"market_cap_rank"}),e.jsx(n,{className:"!text-start",label:"Name",sortKey:"name"}),e.jsx(n,{label:"Current Price (USD)",sortKey:"current_price"}),e.jsx(n,{label:"24h Change (%)",sortKey:"price_change_percentage_24h"}),e.jsx(n,{label:"Market Cap (USD)",sortKey:"market_cap"}),e.jsx(n,{label:"24h Low",sortKey:"24h_low"}),e.jsx(n,{label:"24h High",sortKey:"24h_high"}),e.jsx(n,{className:"text-end ",label:"",sortKey:"favorite"})]})}),e.jsx("tbody",{children:y.map((s,a)=>e.jsx($,{crypto:s,index:a},s.id))})]})})]})};function X(){return e.jsxs("div",{className:"transition-all duration-50 flex-grow bg-gray-200 dark:bg-gray-800 text-gray-800 dark:text-neutral-200  w-full",children:[e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx("div",{className:"invisible w-32",children:" "}),e.jsxs("div",{className:"text-xl opacity-80 mt-4 mb-10 inline-flex items-center   space-x-5",children:["Cryptoverse ",e.jsx(H,{className:"mx-2"})," Explorer"]}),e.jsx("div",{className:"w-32",children:e.jsx(q,{})})]}),e.jsx("div",{className:"mx-auto mb-24",children:e.jsx(M,{})}),e.jsx(I,{})]})}export{X as default};
